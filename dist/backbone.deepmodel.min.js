/*!
 * backbone.deepmodel v0.3.3
 * Copyright 2015 ybiquitous <10koba01@gmail.com>
 * MIT Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("backbone")):"function"==typeof define&&define.amd?define(["backbone"],e):"object"==typeof exports?exports.DeepModel=e(require("backbone")):(t.Backbone=t.Backbone||{},t.Backbone.DeepModel=e(t.Backbone))}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,e,r){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,r){"use strict";function n(t){if("object"!==("undefined"==typeof t?"undefined":o(t))||null==t)return t;var e=Array.isArray(t)?[]:{};return Object.keys(t).reduce(function(e,r){return e[r]=n(t[r]),e},e)}e.a=n;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports=e["default"]},function(t,e,r){"use strict";function n(){return/\[(\w+)\]/g}function o(t){var e=Number(t);return e>=0&&e%1===0}e.a={pathSeparator:".",hasSeparator:function(t){return"string"==typeof t&&(t.indexOf(this.pathSeparator)>=0||n().test(t))},parse:function(t){if(Array.isArray(t))return t;if("function"==typeof this.pathParser)return this.pathParser(t);if(!this.hasSeparator(t))return[t];var e=this.pathSeparator;return t.replace(n(),e+"$1").split(e)},get:function(t,e){var r=this.parse(e);if(0!==r.length){for(var n=t,o=0,u=r.length;o<u;o++){var i=r[o];if(!(i in n))return;n=n[i]}return n}},set:function(t,e,r){var n=this.parse(e),u=n.length-1;return n.reduce(function(t,e,i){if(i<u)if(e in t)t=t[e];else{var a=o(n[i+1])?[]:{};t=t[e]=a}else t[e]=r;return t},t),t}},t.exports=e["default"]},function(e,r){e.exports=t},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(){p.a.pathSeparator=v.pathSeparator;var t=v.pathParser;return"function"!=typeof t&&null!=t||(p.a.pathParser=t),p.a}function a(t){return null!=t&&"object"===("undefined"==typeof t?"undefined":b(t))}var f=r(2),c=r.n(f),p=r(1),l=r(0),s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),y=function g(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var o=Object.getPrototypeOf(t);return null===o?void 0:g(o,e,r)}if("value"in n)return n.value;var u=n.get;if(void 0!==u)return u.call(r)},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d=Object.freeze({pathSeparator:".",pathParser:null}),v=h({},d),O=function(t){function e(){return n(this,e),o(this,Object.getPrototypeOf(e).apply(this,arguments))}return u(e,t),s(e,[{key:"get",value:function(t){return i().get(this.attributes,t)}},{key:"set",value:function(t,n,o){var u=this;if(null==t)return this;var f=i(),c=void 0;if("object"===("undefined"==typeof t?"undefined":b(t)))c=t,o=n;else{if(!f.pathParser&&!f.hasSeparator(t))return y(Object.getPrototypeOf(e.prototype),"set",this).call(this,t,n,o);c={},c[t]=n}var p=Object.keys(c).reduce(function(t,e){var n=f.parse(e);if(0===n.length)return t;if(1===n.length)return t[n[0]]=c[e],t;var o=n[0],i=t[o];if(null==i&&(i=r.i(l.a)(u.attributes[o])),!a(i))throw new Error('"'+e+'" does not exist in '+JSON.stringify(u));return t[o]=i,f.set(t,n,c[e])},{});return y(Object.getPrototypeOf(e.prototype),"set",this).call(this,p,o)}}],[{key:"extend",value:function(){var t;return(t=c.a.Model).extend.apply(t,arguments)}},{key:"defaults",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return h(v,null==t?d:t)}},{key:"VERSION",get:function(){return"0.3.3"}}]),e}(c.a.Model);e["default"]=O,t.exports=e["default"]}])});